# ๐ ูุดููุฉ: ุงูุจูุช ูุง ูุณุชุฌูุจ ุนูุฏ ุฅุฑุณุงู ุฑูุฒ ุงูุฏุฎูู

## โ ุงููุดููุฉ

ุนูุฏ ุฅุฑุณุงู ุฑูุฒ ุงูุฏุฎูู `TKT-121683E2` ุฅูู `@TekritAkkarBot` ูู Telegram:
- โ ุงูุจูุช ูุง ูุฑุฏ
- โ ุงูุญุณุงุจ ูุง ุฒุงู: **ุบูุฑ ูุฑุจูุท**
- โ `telegram_chat_id` ูุง ูุชู ุญูุธู

---

## ๐ค ุงูุณุจุจ ุงูุฑุฆูุณู

### โ๏ธ **localhost ูุง ูุนูู ูุน Telegram Webhook!**

Telegram ูุญุชุงุฌ ุฅูู **ุฑุงุจุท ุนุงู (public URL)** ูููุตูู ุฅูู ุงูู Webhookุ ููุง ููููู ุงููุตูู ุฅูู:
- `http://localhost:8080/...`
- `http://127.0.0.1:8080/...`
- ุฃู ุฑุงุจุท ูุญูู (local)

**ููุงุฐุงุ**
- Telegram servers ููุฌูุฏุฉ ุนูู ุงูุฅูุชุฑูุช
- localhost ููุฌูุฏ ููุท ุนูู ุฌูุงุฒู
- Telegram ูุง ููููู "ุฑุคูุฉ" ุฌูุงุฒู ุงููุญูู

---

## ๐ ููู ุชุชุญูู ูู ุงููุดููุฉ

### 1๏ธโฃ ุงูุชุญ ุตูุญุฉ ุงููุญุต:
```
http://localhost:8080/tekrit_municipality/public/check_telegram_debug.php
```

**ุณุชุฌุฏ:**
- โ ุฅุนุฏุงุฏุงุช Telegram ูุญููุธุฉ
- โ Bot Token ููุฌูุฏ
- โ Webhook URL ูุญุฏุฏ
- โ **ููู Webhook ุบูุฑ ูุณุฌู ูู Telegram** (ุฃู ูุดูุฑ ุฅูู localhost)

### 2๏ธโฃ ุชุญูู ูู Webhook Info:

ูู ุตูุญุฉ ุงููุญุตุ ุณุชุฌุฏ ูุนูููุงุช Webhook ูู Telegram:

```json
{
  "url": "",
  "has_custom_certificate": false,
  "pending_update_count": 0
}
```

ุฅุฐุง ูุงู `url` ูุงุฑุบุงู ุฃู ูุดูุฑ ุฅูู localhostุ ููุฐู ูู ุงููุดููุฉ!

---

## โ ุงูุญููู

### ๐ง ุงูุญู 1: ุงุณุชุฎุฏุงู ngrok (ููุชุทููุฑ ุงููุญูู)

**ngrok** ูููุดุฆ ุฑุงุจุท ุนุงู ูุคูุช ูุดูุฑ ุฅูู localhost.

#### ุงูุฎุทูุงุช:

**1. ุชุญููู ngrok:**
```
https://ngrok.com/download
```

**2. ุชุดุบูู ngrok:**
```bash
ngrok http 8080
```

**3. ูุณุฎ ุงูุฑุงุจุท:**
ุณูุธูุฑ ูู ุฑุงุจุท ูุซู:
```
https://abc123.ngrok.io
```

**4. ุชุญุฏูุซ Webhook URL:**
- ุงูุชุญ: `http://localhost:8080/tekrit_municipality/modules/telegram_settings.php`
- ุบููุฑ Webhook URL ุฅูู:
  ```
  https://abc123.ngrok.io/tekrit_municipality/public/telegram_webhook.php
  ```
- ุงุญูุธ ุงูุฅุนุฏุงุฏุงุช

**5. ุงุฎุชุจุฑ ุงูุจูุช:**
- ุงูุชุญ Telegram
- ุงุจุญุซ ุนู: `@TekritAkkarBot`
- ุงุถุบุท Start
- ุฃุฑุณู: `TKT-121683E2`
- **ูุฌุจ ุฃู ูุฑุฏ ุงูุจูุช ููุฑุงู!** โ

---

### ๐งช ุงูุญู 2: ุงูุงุฎุชุจุงุฑ ุงููุฏูู (ูุคูุชุงู)

ุฅุฐุง ููุช ุชุฑูุฏ ููุท ุงุฎุชุจุงุฑ ุงููุธุงู ุจุฏูู ngrok:

**1. ุงูุชุญ ุตูุญุฉ ุงูุงุฎุชุจุงุฑ:**
```
http://localhost:8080/tekrit_municipality/public/test_telegram_link.php?code=TKT-121683E2
```

**2. ุงุถุบุท "ุฑุจุท ุงูุญุณุงุจ":**
- ุณูุชู ุฑุจุท ุงูุญุณุงุจ ูุฏููุงู
- ุณูุชู ุฅุฑุณุงู ุฌููุน ุงูุฑุณุงุฆู ุงููุนููุฉ
- ุณูุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุญุณุงุจ ุฅูู "ูุฑุจูุท"

**โ๏ธ ููุงุญุธุฉ:**
- ูุฐุง ุญู ูุคูุช ููุงุฎุชุจุงุฑ ููุท
- ูู ุงููุถุน ุงูุทุจูุนูุ ูุฌุจ ุฃู ูุนูู Webhook ุชููุงุฆูุงู

---

### โ ุงูุญู 3: ูุดุฑ ุงููููุน ุนูู ุฎุงุฏู ุญูููู (ุงูุญู ุงูุฏุงุฆู)

**ูุฐุง ูู ุงูุญู ุงูุฃูุถู ูุงูุฏุงุฆู:**

1. **ุฑูุน ุงููููุน ุนูู ุงุณุชุถุงูุฉ (Hosting):**
   - ูุซู: HostGator, Bluehost, SiteGround, ุฅูุฎ
   - ุฃู VPS ูุซู: DigitalOcean, Linode, Vultr

2. **ุงูุญุตูู ุนูู ุฏูููู:**
   - ูุซู: `tekrit-municipality.com`

3. **ุชูุนูู HTTPS:**
   - Telegram ูุชุทูุจ HTTPS (ูููุณ HTTP)
   - ูุนุธู ุงูุงุณุชุถุงูุงุช ุชููุฑ SSL ูุฌุงูู (Let's Encrypt)

4. **ุชุญุฏูุซ Webhook URL:**
   - ูู ุตูุญุฉ ุฅุนุฏุงุฏุงุช Telegramุ ุบููุฑ ุงูุฑุงุจุท ุฅูู:
     ```
     https://tekrit-municipality.com/public/telegram_webhook.php
     ```

5. **ุงุฎุชุจุฑ ุงูุจูุช:**
   - ุงูุขู ุณูุนูู ุชููุงุฆูุงู ุจุฏูู ุฃู ูุดุงูู! โ

---

## ๐ ููุงุฑูุฉ ุงูุญููู

| ุงูุญู | ุงููููุฒุงุช | ุงูุนููุจ | ูุชู ุชุณุชุฎุฏูู |
|------|----------|--------|-------------|
| **ngrok** | โ ุณุฑูุน<br>โ ูุฌุงูู<br>โ ุณูู | โ ูุคูุช<br>โ ุงูุฑุงุจุท ูุชุบูุฑ | ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ |
| **ุงุฎุชุจุงุฑ ูุฏูู** | โ ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ<br>โ ููุฑู | โ ูุฏูู<br>โ ุบูุฑ ุชููุงุฆู | ููุงุฎุชุจุงุฑ ุงูุณุฑูุน ููุท |
| **ุฎุงุฏู ุญูููู** | โ ุฏุงุฆู<br>โ ุงุญุชุฑุงูู<br>โ ุชููุงุฆู | โ ูุญุชุงุฌ ุงุณุชุถุงูุฉ<br>โ ูุฏ ูููู ูุฏููุน | ููุฅูุชุงุฌ ุงูููุงุฆู |

---

## ๐ ุฑูุงุจุท ุณุฑูุนุฉ

### ุตูุญุงุช ุงููุญุต ูุงูุงุฎุชุจุงุฑ:

1. **ุตูุญุฉ ุงููุญุต ุงูุดุงููุฉ:**
   ```
   http://localhost:8080/tekrit_municipality/public/check_telegram_debug.php
   ```

2. **ุตูุญุฉ ุงูุงุฎุชุจุงุฑ ุงููุฏูู:**
   ```
   http://localhost:8080/tekrit_municipality/public/test_telegram_link.php?code=TKT-121683E2
   ```

3. **ุฅุนุฏุงุฏุงุช Telegram:**
   ```
   http://localhost:8080/tekrit_municipality/modules/telegram_settings.php
   ```

4. **ุญุณุงุจุงุช ุงูููุงุทููู:**
   ```
   http://localhost:8080/tekrit_municipality/modules/citizens_accounts.php
   ```

5. **ุดุฑุญ ุงููุดููุฉ (HTML):**
   ```
   http://localhost:8080/tekrit_municipality/TELEGRAM_NOT_RESPONDING.html
   ```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูููุตู ุจูุง

### ููุชุทููุฑ ุงููุญูู (ุงูุขู):

1. โ ุงุณุชุฎุฏู **ngrok** ูุฅูุดุงุก ุฑุงุจุท ุนุงู
2. โ ุญุฏูุซ Webhook URL ูู ุฅุนุฏุงุฏุงุช Telegram
3. โ ุงุฎุชุจุฑ ุงูุจูุช - ูุฌุจ ุฃู ูุนูู!

### ูููุดุฑ ุงูููุงุฆู (ูุงุญูุงู):

1. โ ุงุฑูุน ุงููููุน ุนูู ุฎุงุฏู ุญูููู
2. โ ุงุญุตู ุนูู ุฏูููู ูุฏุนู HTTPS
3. โ ุญุฏูุซ Webhook URL ุฅูู ุงูุฑุงุจุท ุงูุญูููู
4. โ ุงูุจูุช ุณูุนูู ุชููุงุฆูุงู 24/7

---

## ๐ ููุงุญุธุงุช ูููุฉ

### โ ูุง ูุนูู ุงูุขู:
- โ ุชุณุฌูู ุงูุฑุณุงุฆู ูู "pending"
- โ ุฅูุดุงุก ุญุณุงุจุงุช ุงูููุงุทููู
- โ ุฅูุดุงุก ุฑููุฒ ุงูุฏุฎูู
- โ ุตูุญุฉ ุงูุญุณุงุจ ุงูุดุฎุตู ููููุงุทู
- โ ุฏุงูุฉ `sendPendingMessages()` ุฌุงูุฒุฉ

### โณ ูุง ููุชุธุฑ ุงูู Webhook:
- โณ ุฑุจุท `telegram_chat_id` ุชููุงุฆูุงู
- โณ ุฅุฑุณุงู ุงูุฑุณุงุฆู ุงููุนููุฉ ุชููุงุฆูุงู
- โณ ุงูุฑุฏ ุนูู ุฑุณุงุฆู ุงูููุงุทููู

### ๐ง ุจุนุฏ ุฅุตูุงุญ Webhook:
- โ ูู ุดูุก ุณูุนูู ุชููุงุฆูุงู!
- โ ุงูููุงุทู ูุฑุณู ุฑูุฒ ุงูุฏุฎูู โ ุงูุจูุช ูุฑุฏ ููุฑุงู
- โ ุงูุญุณุงุจ ููุฑุจุท ุชููุงุฆูุงู
- โ ุงูุฑุณุงุฆู ุงููุนููุฉ ุชูุฑุณู ุชููุงุฆูุงู

---

## ๐ ุงูุฎูุงุตุฉ

### ุงููุดููุฉ:
โ **localhost ูุง ูุนูู ูุน Telegram Webhook**

### ุงูุญู ุงููุคูุช:
๐ง **ุงุณุชุฎุฏู ngrok** ุฃู **ุงูุงุฎุชุจุงุฑ ุงููุฏูู**

### ุงูุญู ุงูุฏุงุฆู:
โ **ุงูุดุฑ ุงููููุน ุนูู ุฎุงุฏู ุญูููู ูุน HTTPS**

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุงูุชุญ ุตูุญุฉ ุงููุญุต ูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
2. ุงุณุชุฎุฏู ุงูุงุฎุชุจุงุฑ ุงููุฏูู ููุชุฃูุฏ ูู ุฃู ุงูููุฏ ูุนูู
3. ุชุฃูุฏ ูู ุฃู Bot Token ุตุญูุญ
4. ุชุฃูุฏ ูู ุฃู Webhook URL ูุดูุฑ ุฅูู ุฑุงุจุท ุนุงู (ูููุณ localhost)

---

**๐๏ธ ุจูุฏูุฉ ุชูุฑูุช - ุนูุงุฑุ ุดูุงู ูุจูุงู ๐ฑ๐ง**

