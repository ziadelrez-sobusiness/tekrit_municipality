<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠØ« Ù‡Ø¯Ù Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
        }
        .info-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        .problem {
            background: #fff3cd;
            border-left-color: #ffc107;
        }
        .solution {
            background: #d1ecf1;
            border-left-color: #17a2b8;
        }
        .success {
            background: #d4edda;
            border-left-color: #28a745;
        }
        .button {
            display: inline-block;
            padding: 12px 30px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin: 10px 5px;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .button:hover {
            background: #5568d3;
        }
        .button.danger {
            background: #dc3545;
        }
        .button.danger:hover {
            background: #c82333;
        }
        .code-box {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 10px 0;
        }
        .steps {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }
        .steps li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 40px;
            position: relative;
        }
        .steps li:before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .center {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ù‡Ø¯Ù Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª Ù„Ù„Ù…Ø´Ø±ÙˆØ¹</h1>
        
        <div class="info-box problem">
            <h3>âŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:</h3>
            <p><strong>Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¯ÙŠÙ‚Ø© Ø¹Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ ØªÙƒØ±ÙŠØª ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯Ø©"</strong></p>
            <ul>
                <li>Ø§Ù„Ù‡Ø¯Ù: <strong>0 $</strong> âŒ</li>
                <li>Ø§Ù„Ù…ÙØ¬Ù…Ù‘Ø¹: <strong>0 $</strong></li>
                <li>Ø§Ù„Ø±Ø³Ø§Ù„Ø©: <strong>âš ï¸ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª</strong></li>
            </ul>
            <p><strong>Ø§Ù„Ø³Ø¨Ø¨:</strong> Ø­Ù‚Ù„ <code>target_amount</code> ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª = 0</p>
        </div>

        <div class="info-box solution">
            <h3>ğŸ’¡ Ø§Ù„Ø­Ù„:</h3>
            <p>ØªØ­Ø¯ÙŠØ« Ø­Ù‚Ù„ <code>target_amount</code> ÙÙŠ Ø¬Ø¯ÙˆÙ„ <code>projects</code></p>
            <p><strong>Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ù…Ù‚ØªØ±Ø­:</strong> 2,300 Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ</p>
        </div>

        <div class="info-box">
            <h3>ğŸ“‹ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ†ÙÙŠØ°:</h3>
            
            <ol class="steps">
                <li>Ø§ÙØªØ­ <strong>phpMyAdmin</strong>
                    <br><a href="http://localhost/phpmyadmin" target="_blank" class="button">ÙØªØ­ phpMyAdmin</a>
                </li>
                
                <li>Ø§Ø®ØªØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: <strong>tekrit_municipality</strong></li>
                
                <li>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ <strong>SQL</strong></li>
                
                <li>Ø§Ù†Ø³Ø® ÙˆØ§Ù„ØµÙ‚ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯:</li>
            </ol>

            <div class="code-box">-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
ALTER TABLE `projects` 
ADD COLUMN IF NOT EXISTS `target_amount` DECIMAL(15,2) DEFAULT 0.00;

ALTER TABLE `projects` 
ADD COLUMN IF NOT EXISTS `contributions_collected` DECIMAL(15,2) DEFAULT 0.00;

ALTER TABLE `projects` 
ADD COLUMN IF NOT EXISTS `allow_public_contributions` TINYINT(1) DEFAULT 0;

-- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
UPDATE projects 
SET 
    target_amount = 2300,
    contributions_collected = 0,
    currency_id = (SELECT id FROM currencies WHERE currency_code = 'USD' LIMIT 1),
    allow_public_contributions = 1
WHERE id = 2;</div>

            <button class="button" onclick="copyCode()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
            <br>
            <a href="ADD_CONTRIBUTIONS_COLUMNS.sql" class="button" download>ğŸ’¾ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„ÙƒØ§Ù…Ù„</a>
        </div>

        <div class="info-box success">
            <h3>âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</h3>
            <p>Ø¨Ø¹Ø¯ ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒÙˆØ¯ØŒ Ø¹Ù†Ø¯ ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª Ø³ÙŠØ¸Ù‡Ø±:</p>
            <ul>
                <li>Ø§Ù„Ù‡Ø¯Ù: <strong>2,300 $</strong> âœ…</li>
                <li>Ø§Ù„Ù…ÙØ¬Ù…Ù‘Ø¹: <strong>0 $</strong></li>
                <li>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <strong>2,300 $</strong></li>
                <li>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²: <strong>0%</strong></li>
                <li>Ø§Ù„Ø­Ø§Ù„Ø©: <strong>ğŸ“Š Ø¬Ø§Ø±ÙŠ Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª</strong></li>
            </ul>
        </div>

        <div class="center">
            <h3>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©:</h3>
            <a href="http://localhost/phpmyadmin" target="_blank" class="button">phpMyAdmin</a>
            <a href="http://localhost:8080/tekrit_municipality/modules/contributions.php?project_id=2" target="_blank" class="button">ØµÙØ­Ø© Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª</a>
            <a href="http://localhost:8080/tekrit_municipality/check_project_data.php" target="_blank" class="button">ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a>
        </div>

        <div class="info-box">
            <h3>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</h3>
            <ul>
                <li>ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¨Ù„Øº <code>2300</code> Ø¥Ù„Ù‰ Ø£ÙŠ Ù…Ø¨Ù„Øº Ø¢Ø®Ø± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©</li>
                <li>Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: <strong>USD (Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ)</strong></li>
                <li>ØªÙ… ØªÙØ¹ÙŠÙ„ <code>allow_public_contributions = 1</code> Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª</li>
                <li>Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù…Ù„Ø© Ø£Ø®Ø±Ù‰ØŒ ØºÙŠÙ‘Ø± <code>currency_code = 'USD'</code> Ø¥Ù„Ù‰ <code>'LBP'</code> Ø£Ùˆ <code>'EUR'</code></li>
            </ul>
        </div>
    </div>

    <script>
        function copyCode() {
            const code = `-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
ALTER TABLE \`projects\` 
ADD COLUMN IF NOT EXISTS \`target_amount\` DECIMAL(15,2) DEFAULT 0.00;

ALTER TABLE \`projects\` 
ADD COLUMN IF NOT EXISTS \`contributions_collected\` DECIMAL(15,2) DEFAULT 0.00;

ALTER TABLE \`projects\` 
ADD COLUMN IF NOT EXISTS \`allow_public_contributions\` TINYINT(1) DEFAULT 0;

-- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
UPDATE projects 
SET 
    target_amount = 2300,
    contributions_collected = 0,
    currency_id = (SELECT id FROM currencies WHERE currency_code = 'USD' LIMIT 1),
    allow_public_contributions = 1
WHERE id = 2;`;
            
            navigator.clipboard.writeText(code).then(() => {
                alert('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯! Ø§Ù„Ø¢Ù† Ø§Ù„ØµÙ‚Ù‡ ÙÙŠ phpMyAdmin');
            }).catch(err => {
                console.error('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®:', err);
                prompt('Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯:', code);
            });
        }
    </script>
</body>
</html>

